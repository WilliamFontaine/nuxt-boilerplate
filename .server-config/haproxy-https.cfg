defaults
    mode http
    timeout connect 5s
    timeout client 30s
    timeout server 30s

frontend web
    bind *:80
    bind *:443 ssl crt /etc/ssl/certs/your-cert.pem
    # Redirect HTTP to HTTPS
    redirect scheme https if !{ ssl_fc }
    default_backend app

backend app
    # Forward original protocol and host information for HTTPS
    http-request set-header X-Forwarded-Proto https
    http-request set-header X-Forwarded-Port 443
    http-request set-header X-Real-IP %[src]
    
    server nuxt nuxt-boilerplate:3000 check